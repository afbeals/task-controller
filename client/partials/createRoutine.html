<div class="createRoutine">
	<div id="sideTab" >
		<ng-form name="prefill_routine_form" novalidate class="prefillOptions">
			<p>Previous Task:</p>
			<div id="closeTab"><i class="fa fa-times-circle-o" aria-hidden="true"></i></div>
			<label for="previous_task">
				<select name="previous_task" ng-options="task as task.task_name for task in routine._task" ng-change="addPreviousTask(selected.task_name)" ng-model="selected">
				</select>
			</label>
		</ng-form>	
	</div>
	<div id="openSide" tcsidetab><i class="fa fa-arrow-circle-left" aria-hidden="true"></i>Use previous Task</div>
	<ng-form name="task_form" class="taskForm" novalidate>
		<div id="taskFormHeader">Add in your task!</div>
		<label for="task_name">
			Task Name:<input type="text" name="task_name" ng-model="task.task_name" ng-minlength="3" ng-maxlength="25" required>
			<!--<div ng-messages="task_form.task_name.$error" ng-messages-include="error-messages.html" ng-show="task_form.task_name.$touched"></div>-->
			<p ng-show="task_form.task_name.$invalid && !task_form.task_name.$pristine && task_form.task_name.$touched">Task name is required and must be unique.</p>
		</label>
		<label for="task_length">
			Time Consumption(min):<input type="number" name="task_length" ng-model="task.task_length" min="0" max="1440" required>
			<!-- <div ng-messages="task_form.task_length.$error" ng-messages-include="error-messages.html" ng-show="task_form.task_length.$touched"></div> -->
			<p ng-show="task_form.task_length.$invalid && !task_form.task_length.$pristine && task_form.task_length.$touched">Task Consumption is required.</p>
		</label>
		<label for="task_location">
			Task Location:<input type="text" name="task_location" ng-model="task.task_location" required>
			<!-- <div ng-messages="task_form.task_location.$error" ng-messages-include="error-messages.html" ng-show="task_form.task_location.$touched"></div> -->
			<p ng-show="task_form.task_location.$invalid && !task_form.task_location.$pristine && task_form.task_location.$touched">Task Location is required.</p>
		</label> 
		<button ng-click="addTaskToSesRoutine(); task_form.$setPristine();task_form.$setUntouched()" ng-disabled="task_form.$pristine || !task_form.$dirty || task_form.$invalid" type="submit">Add Task!</button>
		<button ng-click="task_form.$setPristine();task_form.$setUntouched();clearForm()" type="submit">Clear</button>


	</ng-form>

	<div id="printContent">
		<p>Current Tasks</p>
		<ul>
			<li ng-repeat="task in newRoutine.tasks | orderBy: 'order'">
				{{task.task_name}},{{task.task_length}},wtf: {{task.order}}
				<button ng-click="removeTask(task.task_name)">Remove Task</button>
			</li>
		</ul>
	</div>
	<br />
	<div id="removeAllTask">
		<button ng-click="removeAllTask()" ng-show="newRoutine.tasks.length > 1">Remove all task?</button>
	</div>
	<div ng-show="newRoutine.tasks.length" id="routineCreationForm">
	<p>Save your routine above?</p>
		<ng-form name="save_routine_form">
			<br>
			<label for="routine_name">
				Routine Name:<input type="text" name="routine_name" ng-model="newRoutine.routine_name" required>
				<!-- <div ng-messages="task_form.task_location.$error" ng-messages-include="error-messages.html" ng-show="task_form.task_location.$touched"></div> -->
				<!-- <p ng-show="task_form.task_location.$invalid && !task_form.task_location.$pristine && task_form.task_location.$touched">Task Location is required.</p> -->
			</label> 
			<button ng-click="createRoutine()" >Create my routine!</button>
		</ng-form>
	</div>
	
	<div id="totalTime">Current Total routine Time: <span>{{totalTime}}</span></div>
	<div id="mapWrapper">
		<div id="map"></div>
	</div>
	<!--<ng-form name='destinationForm'>
		<label for="location_origin">
			<input type="text" name='location_origin' ng-model="address.location_origin">
		</label>
		<label for="location_destination">
			<input type="text" name='location_destination' ng-model="address.location_destination">
		</label>
		<button ng-click='getNewDistance(address.location_origin,address.location_destination)'>Test Me!</button>
	</ng-form>-->
</div>
